{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Control | Acceso Exitoso</title>
    <link rel="stylesheet" href="{% static 'eventos.css' %}">
    <script src="{% static 'eventos.js' %}" defer></script> 
</head>
<body>

    <header class="main-header">
        <nav class="nav-links">
            <a href="{% url 'index' %}" class="nav-link">Volver al Inicio</a>

            {% if usuario.rol == "administrador" %}
                <a href="{% url 'manejo' %}" class="nav-link">AdministraciÃ³n</a>
            {% endif %}
        </nav>
    </header>

    <main class="container-central">

        <section>
            <h2 style="color: #ff6600; border-bottom: 2px solid #eee; padding-bottom: 10px;">
                ðŸ“œ Registro de Eventos
            </h2>
            
            <div class="filtros-container" style="margin: 20px 0; text-align: right;">
                <label for="filtroTipo" style="font-weight: bold; margin-right: 10px;">Filtrar por categorÃ­a:</label>
                <select id="filtroTipo" style="padding: 8px; border-radius: 4px; border: 1px solid #ccc;">
                    <option value="todos">Ver Todos</option>
                    <option value="usuario">GestiÃ³n de Usuarios</option>
                    <option value="contribuyente">Contribuyentes</option>
                    <option value="clasificacion">Clasificaciones</option>
                </select>
            </div>

            <ul class="lista-eventos">
                {% for e in eventos %}
                    <li class="evento-item" data-tipo="{{ e.tipo|lower }}">
                        <div class="evento-header">
                            <span class="tipo-evento">{{ e.tipo }}</span>

                            <span class="fecha-evento">
                                {{ e.timestamp|date:"d/m/Y H:i:s" }}
                            </span>

                        </div>
                        <div class="evento-body">
                            <pre>{{ e.contenido }}</pre>
                        </div>
                    </li>
                {% empty %}
                    <li class="evento-vacio">No hay eventos registrados</li>
                {% endfor %}
            </ul>
        </section>
    </main>

    <footer class="footer"></footer>
</body>
</html>
